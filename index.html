<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bem-vindo - EDCELL-TECH</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #000;
    overflow: hidden;
    font-family: 'Arial', sans-serif;
    color: #fff;
    text-align: center;
    flex-direction: column;
  }

  #welcomeText {
    font-size: 1.5em;
    max-width: 80%;
    line-height: 1.6em;
    margin-top: 20px;
  }

  h1 {
    font-size: 3em;
    animation: fadeIn 2s ease-in-out;
    position: relative;
    z-index: 1;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.8);}
    to { opacity: 1; transform: scale(1);}
  }

  canvas {
    position: absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    z-index:0;
  }
</style>
</head>
<body>

<h1>Seja Bem-vindo!</h1>
<div id="welcomeText"></div>

<canvas id="fireworks"></canvas>

<audio id="fireworkSound" autoplay>
  <source src="https://www.soundjay.com/misc/sounds/firework-1.mp3" type="audio/mpeg">
</audio>

<script>
const welcomeTextDiv = document.getElementById('welcomeText');

// Mensagem curta do README
const message = `Bem-vindo ao Servidor HTML - EDCELL-TECH!
Este projeto permite iniciar um servidor local, abrir o navegador automaticamente e gerar um link público via Ngrok.`;

// Função de digitação letra a letra
function typeText(text, element, speed=50, callback){
  let i=0;
  const interval = setInterval(()=>{
    element.textContent += text.charAt(i);
    i++;
    if(i>=text.length){
      clearInterval(interval);
      if(callback) callback();
    }
  }, speed);
}

// Função de leitura em voz
function speakText(text, callback){
  if('speechSynthesis' in window){
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang='pt-BR';
    utter.onend = callback;
    speechSynthesis.speak(utter);
  } else {
    callback();
  }
}

// Inicia digitação + leitura e depois redireciona
typeText(message, welcomeTextDiv, 50, ()=>{
  speakText(message, ()=>{
    setTimeout(()=>{
      window.location.href = "https://usuario2207ed-hue.github.io/EDCELL-TECH/";
    }, 2000);
  });
});

// ===============================
// Fogos de artifício
// ===============================
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

class Firework {
  constructor(x, y, color) {
    this.x = x; this.y = y; this.particles = []; this.color=color;
    this.createParticles();
  }
  createParticles(){
    for(let i=0;i<50;i++){
      this.particles.push({
        x:this.x, y:this.y,
        vx:(Math.random()-0.5)*8,
        vy:(Math.random()-0.5)*8,
        alpha:1
      });
    }
  }
  update(){
    this.particles.forEach(p=>{
      p.x+=p.vx; p.y+=p.vy; p.vy+=0.05; p.alpha-=0.02;
    });
    this.particles = this.particles.filter(p=>p.alpha>0);
  }
  draw(ctx){
    this.particles.forEach(p=>{
      ctx.fillStyle=`rgba(${this.color},${p.alpha})`;
      ctx.beginPath();
      ctx.arc(p.x,p.y,3,0,Math.PI*2);
      ctx.fill();
    });
  }
}

const fireworks = [];
const colors=["255,0,0","0,255,0","0,0,255","255,255,0","255,0,255","0,255,255"];
function loop(){
  ctx.fillStyle="rgba(0,0,0,0.2)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  if(Math.random()<0.05){
    const x=Math.random()*canvas.width;
    const y=Math.random()*canvas.height/2;
    const color=colors[Math.floor(Math.random()*colors.length)];
    fireworks.push(new Firework(x,y,color));
  }
  fireworks.forEach(fw=>{fw.update();fw.draw(ctx);});
  requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
